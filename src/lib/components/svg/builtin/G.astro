---
import type { HTMLAttributes } from "astro/types";
import transformString, { type Transform } from "./transformString";
import type { NamedCssColor } from "../types";

interface Props extends Transform, Omit<HTMLAttributes<"circle">, "rotate" | "scale"> {
  fill?: NamedCssColor | "none";
  stroke?: NamedCssColor | "none";
  color?: NamedCssColor;
}

const { scale, rotate, translate, ...attrs } = Astro.props;

let transform;

if (!attrs["transform"]) {
  transform = transformString({ scale, rotate, translate });
}
---

<g {...attrs} {transform}>
  <slot />
</g>
